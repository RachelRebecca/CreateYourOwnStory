<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add New Page</title>
    <script src="js/CreateYourOwnTree.js"></script>
    <script src="js/FillInStory.js"></script>
</head>
<body>

<form>
    <input type="button" id="viewStory" value="View Current Stories" onclick="showStory()">
    <input type="button" id="downloadStory" value="Download Current Stories" onclick="download('story.txt', gatherStoryTogether())">
</form>
<script src="js/GatherStoryTogether.js"></script>
<script>
    // download code came from
    // https://stackoverflow.com/questions/3665115/how-to-create-a-file-in-memory-for-user-to-download-but-not-through-server
    function download(filename, text) {
        let element = document.createElement('a');
        element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
        element.setAttribute('download', filename);

        element.style.display = 'none';
        document.body.appendChild(element);

        element.click();

        document.body.removeChild(element);
    }

    function showStory()
    {
        alert(gatherStoryTogether());
    }
</script>
</body>
</html>